# Cursor Web SaaS Rules

## ğŸ—ºï¸ Web SaaS Project Architecture Map

```
â”Œâ”€ User Interface Layer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€ Service Layer â”€â”€â”€â”€â”€â”
â”‚                                      â”‚      â”‚                     â”‚
â”‚  â”Œâ”€ Page Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚  â”Œâ”€ API Routes â”€â”€â”  â”‚
â”‚  â”‚ - Dashboard                   â”‚   â”‚      â”‚  â”‚ - REST API    â”‚  â”‚
â”‚  â”‚ - Settings                    â”‚   â”‚      â”‚  â”‚ - GraphQL     â”‚  â”‚
â”‚  â”‚ - Account Management          â”‚   â”‚      â”‚  â”‚ - WebSockets  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚      â”‚                     â”‚
â”‚  â”Œâ”€ Client Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚  â”Œâ”€ Database â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ - Data Visualization           â”‚â—„â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â–ºâ”‚ - Users       â”‚  â”‚
â”‚  â”‚ - Real-time Updates           â”‚  â”‚      â”‚  â”‚ - Workspaces  â”‚  â”‚
â”‚  â”‚ - Interactive Forms           â”‚  â”‚      â”‚  â”‚ - Settings    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚      â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SaaS Specific Concerns â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Subscription â”€â”€â”€â”€â”  â”Œâ”€ Multi-tenant â”€â”€â”€â”€â”€â”  â”Œâ”€ Analytics â”€â” â”‚
â”‚  â”‚ - Billing         â”‚  â”‚ - Workspace Mgmt   â”‚  â”‚ - Usage     â”‚ â”‚
â”‚  â”‚ - Plans           â”‚  â”‚ - Data Isolation   â”‚  â”‚ - Metrics   â”‚ â”‚
â”‚  â”‚ - Usage Tracking  â”‚  â”‚ - Access Control   â”‚  â”‚ - Reports   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš ï¸ MANDATORY PRE-IMPLEMENTATION CHECKLIST âš ï¸
STOP! Before writing ANY code or suggesting ANY changes:

1. ğŸ” SEARCH FIRST:
   ```bash
   # REQUIRED: Run these searches and document results
   grep_search for functionality
   file_search for similar files
   list_dir in relevant directories
   ```

2. ğŸ“ DOCUMENT FINDINGS:
   ```markdown
   # REQUIRED: Fill this out
   ## Existing Files Found:
   - [List all relevant files found with full paths]
   - [Include file sizes and last modified dates if relevant]
   
   ## Existing Functionality:
   - [Describe what already exists in detail]
   - [Note any patterns or architectural approaches used]
   
   ## Gaps Identified:
   - [List what's missing or needs enhancement]
   - [Identify technical debt or issues in existing code]
   
   ## Implementation Decision Tree:
   - Is there existing code that serves this purpose? [Yes/No]
   - Can existing code be enhanced to meet requirements? [Yes/No]
   - Is creating new code justified? [Yes/No, with reasoning]
   
   ## Proposed Approach:
   - [ ] Enhance existing code at [file path]
   - [ ] Create new files (requires detailed justification)
   - [ ] Refactor existing code at [file path]
   
   ## Implementation Plan:
   1. [First step with estimated effort]
   2. [Second step with estimated effort]
   3. [Additional steps as needed]
   ```

3. âœ‹ WAIT FOR APPROVAL:
   - Present findings to user with clear options
   - Get explicit approval for chosen approach
   - Never proceed with new files if similar functionality exists
   - Document approval in the implementation plan

âŒ IF YOU SKIP THIS CHECKLIST, YOU ARE VIOLATING THE MOST IMPORTANT RULE âŒ 

## ğŸ“‹ Web SaaS Implementation Plan

### Phase 1: SaaS Foundation Setup
[ ] 1.1. Initial Setup
    [ ] Create Next.js project with TypeScript
    [ ] Configure ESLint and Prettier
    [ ] Set up project structure
    [ ] Initialize Git repository

[ ] 1.2. Core Dependencies Installation
    [ ] Install Shadcn UI components
    [ ] Set up authentication (NextAuth.js)
    [ ] Install SaaS specific dependencies
        [ ] Add Stripe for billing
        [ ] Add analytics tools
        [ ] Add real-time features

[ ] 1.3. Database and API Setup
    [ ] Configure database with Prisma
    [ ] Set up multi-tenant architecture
    [ ] Create core data models
    [ ] Implement API structure

### Phase 2: Core SaaS Features
[ ] 2.1. Authentication & Authorization
    [ ] User authentication flow
    [ ] Role-based access control
    [ ] Team/workspace management
    [ ] SSO integration

[ ] 2.2. Subscription Management
    [ ] Subscription plans setup
    [ ] Billing integration
    [ ] Usage tracking
    [ ] Payment processing

[ ] 2.3. User Dashboard
    [ ] Main dashboard layout
    [ ] Data visualization
    [ ] Activity feeds
    [ ] User preferences

### Phase 3: Advanced Features
[ ] 3.1. Team Collaboration
    [ ] Team management
    [ ] Shared workspaces
    [ ] Activity tracking
    [ ] Notifications system

[ ] 3.2. Analytics & Reporting
    [ ] Usage analytics
    [ ] Custom reports
    [ ] Export functionality
    [ ] Data visualization

### Phase 4: Platform Enhancement
[ ] 4.1. Performance & Scale
    [ ] Caching implementation
    [ ] Performance monitoring
    [ ] Load balancing setup
    [ ] Database optimization

[ ] 4.2. Integration Features
    [ ] API documentation
    [ ] Webhook system
    [ ] Third-party integrations
    [ ] Extension system

## ğŸ§  SaaS Pattern Recognition Map

### SaaS Feature Patterns
- **Authentication Pattern**: Sign up â†’ Email verification â†’ Profile completion
- **Subscription Pattern**: Plan selection â†’ Payment â†’ Access provision
- **Dashboard Pattern**: Overview â†’ Detailed views â†’ Actions
- **Team Pattern**: Invite â†’ Role assignment â†’ Workspace sharing
- **Analytics Pattern**: Data collection â†’ Processing â†’ Visualization
- **Settings Pattern**: Categories â†’ Form groups â†’ Validation â†’ Save

## ğŸ“Š Project Progress Dashboard
Overall Progress: 0% Complete
- Foundation Setup        â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Core Features          â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Advanced Features      â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Platform Enhancement   â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Testing & Deployment   â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Documentation         â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%

## ğŸ›¡ï¸ SaaS Critical Standards

### Security Standards
| Category | Requirements |
|----------|--------------|
| Multi-tenancy | â€¢ Data isolation<br>â€¢ Access control<br>â€¢ Resource limits |
| Authentication | â€¢ MFA support<br>â€¢ Session management<br>â€¢ Password policies |
| Data Protection | â€¢ Encryption at rest<br>â€¢ Encryption in transit<br>â€¢ Backup systems |

### Performance Standards
| Category | Requirements |
|----------|--------------|
| API Response | â€¢ < 200ms average<br>â€¢ 99.9% uptime<br>â€¢ Rate limiting |
| Real-time Updates | â€¢ < 100ms latency<br>â€¢ Fallback mechanisms<br>â€¢ Connection recovery |
| Database | â€¢ Query optimization<br>â€¢ Connection pooling<br>â€¢ Indexing strategy |

## ğŸ“‹ Scratchpad

### Current Task:
- [ ] Task description
- [ ] Subtask 1
- [ ] Subtask 2

### Notes:
- Important consideration 1
- Important consideration 2

### Next Steps:
1. Step 1
2. Step 2
3. Step 3

