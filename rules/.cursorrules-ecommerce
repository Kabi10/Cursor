# Cursor E-commerce Rules

## ğŸ—ºï¸ E-commerce Project Architecture Map

```
â”Œâ”€ User Interface Layer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€ Data Access Layer â”€â”
â”‚                                      â”‚      â”‚                     â”‚
â”‚  â”Œâ”€ Page Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚  â”Œâ”€ API Routes â”€â”€â”  â”‚
â”‚  â”‚ - Product Pages              â”‚   â”‚      â”‚  â”‚ - REST API    â”‚  â”‚
â”‚  â”‚ - Category Pages             â”‚   â”‚      â”‚  â”‚ - Server      â”‚  â”‚
â”‚  â”‚ - Checkout Flow              â”‚   â”‚      â”‚  â”‚   Actions     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚      â”‚                     â”‚
â”‚  â”Œâ”€ Client Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚  â”Œâ”€ Database â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ - Product Filters              â”‚â—„â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â–ºâ”‚ - Products    â”‚  â”‚
â”‚  â”‚ - Cart Components              â”‚  â”‚      â”‚  â”‚ - Orders      â”‚  â”‚
â”‚  â”‚ - Payment Forms                â”‚  â”‚      â”‚  â”‚ - Users       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚      â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ E-commerce Specific Concerns â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                   â”‚
â”‚  â”Œâ”€ Cart System â”€â”€â”€â”€â”€â”  â”Œâ”€ Payment â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€ Catalog â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ - Zustand Store   â”‚  â”‚ - Stripe/PayPal   â”‚  â”‚ - Categories  â”‚ â”‚
â”‚  â”‚ - Persistence     â”‚  â”‚ - Checkout Flow   â”‚  â”‚ - Filters     â”‚ â”‚
â”‚  â”‚ - Cart Operations â”‚  â”‚ - Order Creation  â”‚  â”‚ - Search      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš ï¸ MANDATORY PRE-IMPLEMENTATION CHECKLIST âš ï¸
STOP! Before writing ANY code or suggesting ANY changes:

1. ğŸ” SEARCH FIRST:
   ```bash
   # REQUIRED: Run these searches and document results
   grep_search for functionality
   file_search for similar files
   list_dir in relevant directories
   ```

2. ğŸ“ DOCUMENT FINDINGS:
   ```markdown
   # REQUIRED: Fill this out
   ## Existing Files Found:
   - [List all relevant files found with full paths]
   - [Include file sizes and last modified dates if relevant]
   
   ## Existing Functionality:
   - [Describe what already exists in detail]
   - [Note any patterns or architectural approaches used]
   
   ## Gaps Identified:
   - [List what's missing or needs enhancement]
   - [Identify technical debt or issues in existing code]
   
   ## Implementation Decision Tree:
   - Is there existing code that serves this purpose? [Yes/No]
   - Can existing code be enhanced to meet requirements? [Yes/No]
   - Is creating new code justified? [Yes/No, with reasoning]
   
   ## Proposed Approach:
   - [ ] Enhance existing code at [file path]
   - [ ] Create new files (requires detailed justification)
   - [ ] Refactor existing code at [file path]
   
   ## Implementation Plan:
   1. [First step with estimated effort]
   2. [Second step with estimated effort]
   3. [Additional steps as needed]
   ```

3. âœ‹ WAIT FOR APPROVAL:
   - Present findings to user with clear options
   - Get explicit approval for chosen approach
   - Never proceed with new files if similar functionality exists
   - Document approval in the implementation plan

âŒ IF YOU SKIP THIS CHECKLIST, YOU ARE VIOLATING THE MOST IMPORTANT RULE âŒ 

## ğŸ“‹ E-commerce Implementation Plan

### Phase 1: E-commerce Setup and Configuration
[ ] 1.1. Initial Setup
    [ ] Create Next.js project with TypeScript
    [ ] Configure ESLint and Prettier
    [ ] Set up project structure with e-commerce folders
    [ ] Initialize Git repository

[ ] 1.2. E-commerce Dependencies Installation
    [ ] Install Shadcn UI for e-commerce components
    [ ] Set up Lucide icons
    [ ] Install e-commerce specific dependencies
        [ ] Add Zod for product/order validation
        [ ] Add Zustand for cart state management
        [ ] Add Stripe/PayPal for payments
        [ ] Add Resend for order emails

[ ] 1.3. E-commerce Data Model Setup
    [ ] Configure database
    [ ] Create Prisma schema for products, categories, orders
    [ ] Set up authentication for customers
    [ ] Create seed data for products and categories

### Phase 2: Core E-commerce Features
[ ] 2.1. Product Catalog
    [ ] Product listing pages with filters and search
    [ ] Product detail pages with image gallery
    [ ] Category navigation
    [ ] Reviews and ratings system

[ ] 2.2. Shopping Cart
    [ ] Create cart store with Zustand
    [ ] Implement cart operations (add/remove/update)
    [ ] Cart persistence across sessions
    [ ] Cart summary and totals calculation

[ ] 2.3. Checkout Process
    [ ] Multi-step checkout flow
    [ ] Address and shipping options
    [ ] Payment integration
    [ ] Order confirmation

### Phase 3: E-commerce Admin Features
[ ] 3.1. Product Management
    [ ] Product CRUD operations
    [ ] Inventory management
    [ ] Product image uploads
    [ ] Product variants and options

[ ] 3.2. Order Management
    [ ] Order listing and details
    [ ] Order status updates
    [ ] Order fulfillment process
    [ ] Returns handling

### Phase 4: E-commerce Advanced Features
[ ] 4.1. Customer Features
    [ ] Customer accounts
    [ ] Order history
    [ ] Wishlist functionality
    [ ] Saved payment methods

[ ] 4.2. Marketing Features
    [ ] Promotions and discounts
    [ ] Product recommendations
    [ ] Email marketing integration
    [ ] Social sharing

## ğŸ§  E-commerce Pattern Recognition Map

### E-commerce Feature Patterns
- **Product Display Pattern**: Grid/List views â†’ Filters â†’ Pagination
- **Cart Pattern**: Add to cart â†’ Cart UI â†’ Checkout flow
- **Checkout Pattern**: Information â†’ Shipping â†’ Payment â†’ Confirmation
- **Order Pattern**: Create order â†’ Process payment â†’ Update inventory â†’ Send confirmation
- **Admin Pattern**: CRUD interfaces for products/orders/customers with validation
- **Search Pattern**: Query input â†’ Filter application â†’ Sorted results

## ğŸ“Š Project Progress Dashboard
Overall Progress: 0% Complete
- Setup & Configuration    â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Product Catalog         â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Shopping Cart           â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Checkout System         â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Admin Features          â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Customer Features       â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%
- Marketing Features      â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡   0%

## ğŸ›¡ï¸ E-commerce Critical Standards

### Security Standards
| Category | Requirements |
|----------|--------------|
| Payment Processing | â€¢ PCI Compliance<br>â€¢ Secure payment gateway integration<br>â€¢ Payment data encryption |
| User Data | â€¢ GDPR Compliance<br>â€¢ Secure customer data storage<br>â€¢ Privacy policy implementation |
| Authentication | â€¢ Secure login system<br>â€¢ Password hashing<br>â€¢ Session management |

### Performance Standards
| Category | Requirements |
|----------|--------------|
| Page Load | â€¢ < 2s initial load<br>â€¢ < 500ms subsequent loads |
| Image Optimization | â€¢ Lazy loading<br>â€¢ Multiple resolutions<br>â€¢ WebP format |
| Cart Operations | â€¢ < 100ms response time<br>â€¢ Offline support<br>â€¢ Auto-save |

## ğŸ“‹ Scratchpad

### Current Task:
- [ ] Task description
- [ ] Subtask 1
- [ ] Subtask 2

### Notes:
- Important consideration 1
- Important consideration 2

### Next Steps:
1. Step 1
2. Step 2
3. Step 3

